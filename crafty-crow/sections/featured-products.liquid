<section class="cc-section">
  <div class="cc-container">
    <div class="cc-section-header">
      <h2 class="cc-section-title">
        {{ section.settings.heading | default: 'Handpicked lehengas' }}
      </h2>
      {% if section.settings.view_all_link != blank and section.settings.view_all_label != blank %}
        <a href="{{ section.settings.view_all_link }}" class="cc-section-link">
          {{ section.settings.view_all_label }}
        </a>
      {% endif %}
    </div>
    <div class="cc-grid cc-grid--products">
      {% for block in section.blocks %}
        {% assign product = all_products[block.settings.product] %}
        {% if product %}
          {% render 'product-card', product: product %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Featured products",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Handpicked lehengas"
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "View all link",
      "default": "/collections/lehenga-edit"
    },
    {
      "type": "text",
      "id": "view_all_label",
      "label": "View all label",
      "default": "View all lehengas"
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Featured products",
      "blocks": [
        { "type": "product" },
        { "type": "product" },
        { "type": "product" }
      ]
    }
  ]
}
{% endschema %}

