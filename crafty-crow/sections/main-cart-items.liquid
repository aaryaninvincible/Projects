<section class="cc-section cc-cart">
  <div class="cc-container">
    <h1 class="cc-section-title">{{ 'cart.general.title' | t }}</h1>

    {% if cart.item_count == 0 %}
      <p>{{ 'cart.general.empty' | t }}</p>
      <a href="{{ routes.all_products_collection_url }}" class="cc-button cc-button--primary">
        {{ 'cart.general.continue_shopping' | t }}
      </a>
    {% else %}
      <form action="{{ routes.cart_url }}" method="post" novalidate class="cc-cart__form">
        <table class="cc-cart-table">
          <thead>
            <tr>
              <th scope="col">{{ 'cart.label.product' | t }}</th>
              <th scope="col">{{ 'cart.label.price' | t }}</th>
              <th scope="col">{{ 'cart.label.quantity' | t }}</th>
              <th scope="col">{{ 'cart.label.total' | t }}</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td>
                  <div class="cc-cart-item">
                    <a href="{{ item.url }}" class="cc-cart-item__media">
                      {{ item.image | image_url: width: 200 | image_tag: loading: 'lazy', alt: item.product.title }}
                    </a>
                    <div class="cc-cart-item__info">
                      <a href="{{ item.url }}" class="cc-cart-item__title">{{ item.product.title }}</a>
                      {% if item.variant.title != 'Default Title' %}
                        <div class="cc-cart-item__variant">{{ item.variant.title }}</div>
                      {% endif %}
                      <a href="{{ routes.cart_change_url }}?line={{ forloop.index }}&quantity=0" class="cc-cart-item__remove">
                        {{ 'cart.general.remove' | t }}
                      </a>
                    </div>
                  </div>
                </td>
                <td>{{ item.price | money }}</td>
                <td>
                  <input
                    class="cc-input cc-input--quantity"
                    type="number"
                    name="updates[]"
                    id="updates_{{ item.key }}"
                    value="{{ item.quantity }}"
                    min="0"
                  >
                </td>
                <td>{{ item.line_price | money }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="cc-cart__footer">
          <div class="cc-cart__note">
            <label for="CartNote" class="cc-label">{{ 'cart.general.note' | t }}</label>
            <textarea id="CartNote" name="note" class="cc-input cc-input--textarea">{{ cart.note }}</textarea>
          </div>
          <div class="cc-cart__summary">
            <div class="cc-cart__subtotal">
              <span>{{ 'cart.general.subtotal' | t }}</span>
              <span>{{ cart.total_price | money }}</span>
            </div>
            <p class="cc-text-muted">{{ 'cart.general.shipping_at_checkout' | t }}</p>
            <div class="cc-cart__actions">
              <button type="submit" name="update" class="cc-button cc-button--secondary">
                {{ 'cart.general.update' | t }}
              </button>
              <button type="submit" name="checkout" class="cc-button cc-button--primary">
                {{ 'cart.general.checkout' | t }}
              </button>
            </div>
          </div>
        </div>
      </form>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Main cart",
  "settings": [],
  "presets": [
    {
      "name": "Main cart"
    }
  ]
}
{% endschema %}

