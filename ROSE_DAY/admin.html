<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rose Day Admin Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Nunito:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <script>
      (function loadStylesWithFallback() {
        const candidates = [
          "./styles.css",
          "styles.css",
          "/ROSE_DAY/styles.css",
          "/Projects/ROSE_DAY/styles.css",
        ];
        let i = 0;
        function tryNext() {
          if (i >= candidates.length) return;
          const link = document.createElement("link");
          link.rel = "stylesheet";
          link.href = candidates[i++];
          link.onerror = tryNext;
          document.head.appendChild(link);
        }
        tryNext();
      })();
    </script>
    <style>
      .admin-list {
        text-align: left;
        max-height: 420px;
        overflow: auto;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 14px;
        border: 1px solid rgba(215, 38, 96, 0.2);
        padding: 12px 16px;
      }
      .admin-list li {
        margin: 8px 0;
      }
    </style>
  </head>
  <body>
    <div class="bg-hearts" id="bgHearts"></div>
    <main class="card">
      <h1>Aryan Dashboard</h1>
      <p class="subtitle">
        Live Firebase events from Rose Day interactions.
      </p>
      <p class="status" id="statusText">Waiting for incoming events...</p>
      <ul class="admin-list" id="logList"></ul>
    </main>
    <script type="module">
      const scriptCandidates = [
        "./app.js",
        "app.js",
        "/ROSE_DAY/app.js",
        "/Projects/ROSE_DAY/app.js",
      ];
      let loaded = false;
      for (const path of scriptCandidates) {
        try {
          await import(path);
          loaded = true;
          break;
        } catch (_) {}
      }
      if (!loaded) {
        const s = document.getElementById("statusText");
        if (s) {
          s.textContent =
            "Admin app failed to load (404). Check GitHub Pages path.";
        }
      }
    </script>
  </body>
</html>
